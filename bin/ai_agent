#!/bin/bash
# Author: DawsonLin
# Email: developer@yunify.com
# Created: 2025-10-19
# Purpose:

WORK_DIR=""

function error_quit() {
    echo "ERROR: $*"
    echo ""
    exit 1
}

# get work_dir
for _dir in "/root/ai/essence-of-AI-engineering" "/林生的奇思妙想/essence-of-AI-engineering"; do
  [ -e "${_dir}" ] && WORK_DIR=${_dir} && break
done

[ -n "${WORK_DIR}" ] || error_quit “no found work_dir”

cd "${WORK_DIR}" || error_quit "enter work_dir failed: ${WORK_DIR}"

task="$*"
task_ex=""
if [ "$1" == "-" ]; then
  task=$(cat "$1")
  [ "$2" != "" ] && task_ex="\n----\n$*"
fi
DEBUG=1 uv run python AgentReAct.py -t "${task} ${task_ex}"

